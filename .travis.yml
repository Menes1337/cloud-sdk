sudo: false

# trust dist provides a modern build chain (as opposed to 'precise' dist)
# which absolves us from having to install compilers and stuff
dist: trusty

language: node_js

node_js:
  - 8     # just so we know whether or not it works
  - lts/* # latest LTS release
  - node  # latest stable release

install:
  - npm i

script:
  - npm run lint
  - npm run test
  - npm run check

# Generate coverage report and send report to coveralls.io
after_success:
  - npm run cover
  - cat ./build/lcov.info | ./node_modules/coveralls/bin/coveralls.js

notifications:
  email: false

branches:
  only:
  - master