#!/usr/bin/env node

'use strict'

const commander = require('commander')

// set version (includes version command)
const {version} = require('../package.json')
commander.version(version)

// load all custom actions
const actions = require('../')
Object.keys(actions).forEach(a => new actions[a]().register(commander))

// activate argument parsing
commander.parse(process.argv)

// undefined if no cmd is given on cli, object if a cmd was found, string if not
const executedCommand = commander.args.pop()
if (!executedCommand || typeof executedCommand === 'string') commander.help()
